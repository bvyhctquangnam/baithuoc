<!DOCTYPE html>
<html lang="vi">
<head>
    <!-- Nếu file ảnh của bạn là favicon.png -->
    <link rel="icon" href="./favicon.png" type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tra cứu Bài thuốc Y học cổ truyền</title>
    <link rel="stylesheet" href="./style.css">
    <script src="./scripts.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
		<div class="logo-container">
			<a href="/"> <img src="./favicon.png" alt="Logo" class="main-logo">
			</a>
		</div>
                <h1>                    
                    BỆNH VIỆN Y HỌC CỔ TRUYỀN QUẢNG NAM
                </h1>                
                <div class="header-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="totalDiseases">0</div>
                        <div class="stat-label" style="color:white;">Bệnh</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="totalRemedies">0</div>
                        <div class="stat-label" style="color:white;">Bài thuốc</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="totalPatterns">0</div>
                        <div class="stat-label" style="color:white;">Thể bệnh</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="totalHerbs">0</div>
                        <div class="stat-label" style="color:white;">Vị thuốc</div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="main-content">
            <!-- Sidebar -->
            <aside class="sidebar">
                <!-- Tabs Navigation -->
                <div class="sidebar-card">
                    <div class="sidebar-title">
                        <i class="fas fa-bars"></i>
                        Danh mục
                    </div>
                    <nav class="tabs-nav">
                        <button class="tab-btn active" data-tab="search">
                            <i class="fas fa-search"></i>
                            Tra cứu
                            <span class="badge" id="searchCount">0</span>
                        </button>
                        <button class="tab-btn" data-tab="favorites">
                            <i class="fas fa-heart"></i>
                            Yêu thích
                            <span class="badge" id="favCount">0</span>
                        </button>
                        <button class="tab-btn" data-tab="statistics">
                            <i class="fas fa-chart-bar"></i>
                            Thống kê
                        </button>
                    </nav>
                </div>

                <!-- Search Box -->
                <div class="sidebar-card">
                    <div class="sidebar-title">
                        <i class="fas fa-filter"></i>
                        Tìm kiếm
                    </div>
                    <div class="search-box">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" id="searchInput" class="search-input" placeholder="Tên bệnh, bài thuốc, vị thuốc...">
                    </div>
                    <div class="action-buttons">
                        <button onclick="searchRemedies()" class="action-btn-small primary">
                            <i class="fas fa-search"></i>
                            Tìm
                        </button>
                        <button onclick="showAll()" class="action-btn-small">
                            <i class="fas fa-redo"></i>
                            Tất cả
                        </button>
                    </div>
                </div>

                <!-- Filters -->
                <div class="sidebar-card">
                    <div class="sidebar-title">
                        <i class="fas fa-sliders-h"></i>
                        Bộ lọc
                    </div>
                    <div class="filter-section">
                        <div class="filter-group">
                            <label class="filter-label">Chọn bệnh</label>
                            <select id="diseaseFilter" class="filter-select">
                                <option value="">Tất cả bệnh</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label class="filter-label">Chọn thể bệnh</label>
                            <select id="patternFilter" class="filter-select">
                                <option value="">Tất cả thể</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Quick Stats -->
                <div class="sidebar-card">
                    <div class="sidebar-title">
                        <i class="fas fa-chart-line"></i>
                        Thông tin nhanh
                    </div>
                    <div class="quick-stats">
                        <div class="quick-stat">
                            <span class="quick-stat-label">Bài thuốc phổ biến</span>
                            <span class="quick-stat-value" id="topRemedy">-</span>
                        </div>
                        <div class="quick-stat">
                            <span class="quick-stat-label">Thể bệnh thường gặp</span>
                            <span class="quick-stat-value" id="topPattern">-</span>
                        </div>
                        <div class="quick-stat">
                            <span class="quick-stat-label">Vị thuốc hay dùng</span>
                            <span class="quick-stat-value" id="topHerb">-</span>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Content Area -->
            <main class="content-area">
                <!-- Search Tab -->
                <div id="search-tab" class="tab-content active">
                    <div class="results-info">
                        <div>
                            <div class="results-count">
                                Tìm thấy <span id="resultsCount">0</span> bài thuốc trong <span id="diseaseCount">0</span> bệnh
                            </div>
                            <div class="results-note">
                                <i class="fas fa-info-circle"></i>
                                Một bài thuốc có thể dùng cho nhiều bệnh khác nhau
                            </div>
                        </div>
                        <div class="view-toggle">
                            <button class="view-btn active" onclick="toggleView('grouped')">
                                <i class="fas fa-layer-group"></i>
                                Nhóm bệnh
                            </button>
                            <button class="view-btn" onclick="toggleView('flat')">
                                <i class="fas fa-list"></i>
                                Danh sách
                            </button>
                        </div>
                    </div>

                    <div id="resultsContainer">
                        <!-- Results will be loaded here -->
                    </div>
                </div>

                <!-- Favorites Tab -->
                <div id="favorites-tab" class="tab-content">
                    <div class="results-info">
                        <div class="results-count">
                            <i class="fas fa-heart" style="color: var(--danger); margin-right: 5px;"></i>
                            <span id="favoritesTotal">0</span> bài thuốc yêu thích
                        </div>
                        <div class="view-toggle">
                            <button class="view-btn active" onclick="setFavoritesView('grid')" title="Xem dạng lưới">
                                <i class="fas fa-th"></i>
                                Lưới
                            </button>
                            <button class="view-btn" onclick="setFavoritesView('compact')" title="Xem dạng dày đặc">
                                <i class="fas fa-compress-alt"></i>
                                Dày đặc
                            </button>
                            <button onclick="clearAllFavorites()" class="action-btn favorite-btn" style="padding: 0.5rem 1rem;">
                                <i class="fas fa-trash"></i>
                                Xóa tất cả
                            </button>
                        </div>
                    </div>

                    <div id="favoritesContainer" class="favorites-grid">
                        <!-- Favorites will be loaded here -->
                    </div>
                </div>

                <!-- Statistics Tab -->
                <div id="statistics-tab" class="tab-content">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-heartbeat"></i>
                            </div>
                            <div class="stat-number" id="statTotalDiseases">0</div>
                            <div class="stat-label">Bệnh được hỗ trợ</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-prescription-bottle"></i>
                            </div>
                            <div class="stat-number" id="statTotalRemedies">0</div>
                            <div class="stat-label">Bài thuốc duy nhất</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-tags"></i>
                            </div>
                            <div class="stat-number" id="statTotalPatterns">0</div>
                            <div class="stat-label">Thể bệnh khác nhau</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-seedling"></i>
                            </div>
                            <div class="stat-number" id="statTotalHerbs">0</div>
                            <div class="stat-label">Vị thuốc khác nhau</div>
                        </div>

                        <div class="stat-card" style="grid-column: span 2;">
                            <h4 style="color: var(--primary); margin-bottom: 0.8rem; font-size: 1rem;">
                                <i class="fas fa-star"></i>
                                Top vị thuốc thường dùng
                            </h4>
                            <ul class="stat-list" id="topHerbsList">
                                <!-- Top herbs will be listed here -->
                            </ul>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Detail Modal -->
    <div id="detailModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modalTitle"></h3>
                <p class="modal-subtitle" id="modalPattern"></p>
            </div>
            
            <div class="modal-body">
                <div class="modal-section">
                    <h4><i class="fas fa-heartbeat"></i> Dùng cho bệnh</h4>
                    <div class="disease-badges" id="modalDiseases">
                        <!-- Disease badges will be added here -->
                    </div>
                </div>

                <div class="modal-section">
                    <h4><i class="fas fa-seedling"></i> Thành phần bài thuốc</h4>
                    <div class="ingredient-grid" id="modalIngredients">
                        <!-- Ingredients will be added here -->
                    </div>
                </div>

                <div class="modal-section">
                    <h4><i class="fas fa-info-circle"></i> Cách dùng</h4>
                    <div class="usage" id="modalUsage" style="margin: 0; background: transparent; border: none; padding: 0.5rem 0;"></div>
                    <div style="margin-top: 0.8rem; padding: 0.8rem; background: #fff8e1; border-radius: var(--radius-sm); border-left: 3px solid var(--warning); font-size: 0.8rem;">
                        <strong><i class="fas fa-exclamation-triangle"></i> Lưu ý:</strong>
                        Bài thuốc chỉ mang tính tham khảo!
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button class="modal-btn secondary" onclick="closeModal()">
                    <i class="fas fa-times"></i>
                    Đóng
                </button>
                <button id="modalFavoriteBtn" class="modal-btn primary">
                    <i class="fas fa-heart"></i>
                    Thêm vào yêu thích
                </button>
            </div>
        </div>
    </div>
	
        <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p class="copyright">© 2026 Bệnh viện Y học cổ truyền Quảng Nam</p>
                <p class="author">Tổng hợp & viết code: BSCKI. Nguyễn Văn Dũng</p>
            </div>
        </div>
    </footer>

    
</body>
</html>